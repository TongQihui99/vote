(function(){"use strict";var e={8383:function(e,t,a){var n=a(5130),s=(a(4114),a(8111),a(2489),a(1701),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(6768)),i=a(4232),l=a(144),r=a(6293);let o;const u=11155111,p="0xaa36a7",c=()=>(window.ethereum?(o=new r.Ay$(window.ethereum),console.log("Web3å®ä¾‹å·²åˆ›å»º")):console.error("è¯·å®‰è£…MetaMask!"),o),d=async()=>{if(!o)throw new Error("æœªæ£€æµ‹åˆ°é’±åŒ…ï¼Œè¯·å°è¯•ä½¿ç”¨å°ç‹ç‹¸é’±åŒ…");try{const t=await window.ethereum.request({method:"eth_requestAccounts"});if(chainId!==parseInt(u,16))try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:p}]})}catch(e){if(4902!==e.code)throw new Error("è¯·æ‰‹åŠ¨åˆ‡æ¢åˆ°Sepoliaæµ‹è¯•ç½‘");await y()}return t[0]}catch(t){throw console.error("è¿æ¥å¤±è´¥:",t),t}},y=async()=>{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:p,chainName:"Sepolia Test Network",nativeCurrency:{name:"Sepolia ETH",symbol:"ETH",decimals:18},rpcUrls:["https://rpc.sepolia.org"],blockExplorerUrls:["https://sepolia.etherscan.io"]}]})},v=async()=>{const e=await o.eth.getAccounts();return e[0]||null},m=e=>{window.ethereum?.on("chainChanged",(t=>{const a=parseInt(t,16);console.log("ç½‘ç»œå˜æ›´äº‹ä»¶:",`åŸå§‹å€¼: ${t}ï¼ˆç±»å‹: ${typeof t}ï¼‰`,`è½¬æ¢å: ${a}ï¼ˆç±»å‹: ${typeof a}ï¼‰`),e(a)}))},f=()=>{if(!o)throw new Error("Web3æœªåˆå§‹åŒ–");return o},b=[{inputs:[{internalType:"uint256",name:"initialSupply",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"allowance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientAllowance",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC20InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC20InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC20InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"}],name:"ERC20InvalidSpender",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"BurnSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"MintSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"},{indexed:!1,internalType:"string",name:"message",type:"string"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],k=[{inputs:[{internalType:"address",name:"_governanceToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"_proposalId",type:"uint256"}],name:"closeProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_description",type:"string"},{internalType:"uint256",name:"_duration",type:"uint256"}],name:"createProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllProposals",outputs:[{components:[{internalType:"string",name:"description",type:"string"},{internalType:"uint256",name:"forWeight",type:"uint256"},{internalType:"uint256",name:"againstWeight",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"enum Voting.ProposalStatus",name:"status",type:"uint8"},{internalType:"bool",name:"executed",type:"bool"}],internalType:"struct Voting.Proposal[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"governanceToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_proposalId",type:"uint256"}],name:"isProposalPassed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"proposals",outputs:[{internalType:"string",name:"description",type:"string"},{internalType:"uint256",name:"forWeight",type:"uint256"},{internalType:"uint256",name:"againstWeight",type:"uint256"},{internalType:"uint256",name:"duration",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"enum Voting.ProposalStatus",name:"status",type:"uint8"},{internalType:"bool",name:"executed",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"stakedTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_proposalId",type:"uint256"}],name:"startProposal",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"unstake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_proposalId",type:"uint256"},{internalType:"bool",name:"isFor",type:"bool"}],name:"vote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"voters",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],h="0xf21cf87969a36dd691ecb94da5f170f11307b93b",g="0x617cdba47a2c352802abe15fc6f5ae0e791c8cff";let w,T;const L=async()=>{const e=f();w=new e.eth.Contract(b,h),T=new e.eth.Contract(k,g),console.log("åˆçº¦åˆå§‹åŒ–æˆåŠŸ")},C=()=>{if(!w)throw new Error("æ²»ç†ä»£å¸åˆçº¦æœªåˆå§‹åŒ–");return w},_=()=>{if(!T)throw new Error("æŠ•ç¥¨åˆçº¦æœªåˆå§‹åŒ–");return T},E={class:"app-container"},M={class:"wallet-status"},W={key:1,class:"account-info"},P={class:"account-address"},x={key:0,class:"network-alert"},$={class:"notification-content"},O={class:"icon"},I={class:"main-content"},S={key:0,class:"error-alert"},R={key:0,class:"error-alert"},X={class:"dashboard"},K={class:"info-card"},A={class:"asset-item"},F={class:"value"},D={class:"asset-item"},V={class:"value highlight"},Q={class:"info-card"},j={class:"stake-controls"},N={key:0,class:"approve-status"},q={class:"info-card quick-actions"},U={class:"quick-action-buttons"},B={class:"proposals-list"},J={key:0,class:"empty-state"},H={key:1,class:"proposals-container"},z={class:"proposal-header"},G={class:"proposal-meta"},Y={class:"proposal-title"},Z={class:"status-container"},ee=["onClick","disabled"],te={class:"time-remaining"},ae={class:"proposal-actions"},ne=["onClick"],se={class:"voting-progress"},ie={class:"progress-item"},le={class:"progress-header"},re={class:"progress-stats"},oe={class:"progress-weight"},ue={class:"progress-percent"},pe={class:"progress-bar"},ce={class:"progress-item"},de={class:"progress-header"},ye={class:"progress-stats"},ve={class:"progress-weight"},me={class:"progress-percent"},fe={class:"progress-bar"},be={key:0,class:"voting-actions"},ke=["onClick"],he=["onClick"],ge={key:1,class:"voted-indicator"},we={key:2,class:"warning-message"},Te={class:"vote-summary"},Le={key:1,class:"connect-prompt"},Ce={key:0,class:"modal-overlay"},_e={class:"modal-content"},Ee={class:"modal-header"},Me={class:"modal-body"},We={class:"form-group"},Pe={class:"form-group"},xe={class:"duration-input-group"},$e={class:"modal-actions"};var Oe={__name:"App",setup(e){const t=(0,l.KR)(null),a=(0,l.KR)(null),r=(0,l.KR)(!1),o=(0,l.KR)(!1),p=(0,l.KR)(""),y=(0,l.KR)(24),b=(0,l.KR)(0),k=(0,l.KR)(""),h=(0,l.KR)(!1),w=(0,l.KR)(0),T=(0,l.KR)(0),Oe=(0,l.KR)([]),Ie=(0,l.KR)(""),Se=(0,l.KR)({mint:!1,stake:!1,unstake:!1,createProposal:!1,vote:new Set,startProposal:new Set,closeProposal:new Set}),Re=(0,l.KR)([]),Xe={error:"âŒ",success:"âœ…",warning:"âš ï¸",loading:"â³"},Ke=(e,t="error",a=!1)=>{const n=Date.now();return Re.value.push({id:n,message:e,type:t,persistent:a}),setTimeout((()=>{Re.value=Re.value.filter((e=>e.id!==n))}),5e3),n},Ae=e=>Ke(e,"error"),Fe=e=>Ke(e,"loading",!0);(0,s.sV)((async()=>{try{c(),await L(),De(),m(je)}catch(e){}})),(0,s.hi)((()=>{clearInterval(it.value)}));const De=async()=>{try{const e=await v();e&&(a.value=e,await Qe(),await Ne())}catch(e){console.error("è‡ªåŠ¨è¿æ¥æ£€æŸ¥å¤±è´¥:",e)}},Ve=async()=>{console.log(1);try{console.log(2),a.value=await d(),r.value=!1,await Ne()}catch(e){console.log(3),Ae("è¿æ¥å¤±è´¥: "+(e.message||"ç”¨æˆ·å–æ¶ˆæ“ä½œ"))}},Qe=async()=>{try{const e=Number(await f().eth.getChainId());console.log("ç½‘ç»œæ£€æŸ¥:",`å½“å‰é“¾ID: ${e}ï¼ˆç±»å‹: ${typeof e}ï¼‰`,`ç›®æ ‡é“¾ID: ${u}ï¼ˆç±»å‹: ${typeof u}ï¼‰`),r.value=e!==u,console.log("æ¯”è¾ƒç»“æœ:",r.value?"ç½‘ç»œé”™è¯¯":"ç½‘ç»œæ­£ç¡®",`è®¡ç®—å¼: ${e} !== ${u}`)}catch{r.value=!0}},je=e=>{console.log("å¤„ç†ç½‘ç»œå˜æ›´:",`æ”¶åˆ°é“¾ID: ${e}ï¼ˆç±»å‹: ${typeof e}ï¼‰`,`ç›®æ ‡é“¾ID: ${u}ï¼ˆç±»å‹: ${typeof u}ï¼‰`),r.value=e!==u,console.log("æ¯”è¾ƒç»“æœ:",r.value?"ç½‘ç»œé”™è¯¯":"ç½‘ç»œæ­£ç¡®",`è®¡ç®—å¼: ${e} !== ${u}`),r.value||Ne()};async function Ne(){if(!r.value)try{const e=C(),t=_();Ie.value=await e.methods.symbol().call();const n=await e.methods.balanceOf(a.value).call();w.value=et(n);const s=await t.methods.stakedTokens(a.value).call();T.value=et(s);const i=await t.methods.getAllProposals().call();Oe.value=await Promise.all(i.map((async(e,n)=>{const s=Math.floor(Date.now()/1e3),i=1===e.status&&Number(e.endTime)<s;return{...e,forWeight:et(e.forWeight),againstWeight:et(e.againstWeight),endTime:Number(e.endTime),status:i?2:Number(e.status),hasVoted:await t.methods.voters(n,a.value).call(),isPassed:2===e.status&&await t.methods.isProposalPassed(n).call(),isOverdue:i}})))}catch(e){st(e,"æ•°æ®åŠ è½½å¤±è´¥")}}const qe=()=>!!r.value&&(Ae("è¯·å…ˆåˆ‡æ¢åˆ°Sepoliaç½‘ç»œ"),!0),Ue=async()=>{if(qe())return;const e=Fe("ä»£å¸é“¸é€ ä¸­...");Se.value.mint=!0;try{const t=C(),n=1e3;await t.methods.mint(f().utils.toWei(n.toString(),"ether")).send({from:a.value}),await Ne(),Re.value=Re.value.map((t=>t.id===e?{...t,message:`æˆåŠŸé¢†å– ${n} ${Ie.value}`,type:"success",persistent:!1}:t))}catch(t){Re.value=Re.value.filter((t=>t.id!==e)),st(t,"é¢†å–æµ‹è¯•å¸å¤±è´¥")}finally{Se.value.mint=!1}},Be=async()=>{if(qe())return;const e=Fe("è´¨æŠ¼å¤„ç†ä¸­...");Se.value.stake=!0;try{if(b.value>w.value)return void Ae("è´¨æŠ¼æ•°é‡ä¸èƒ½è¶…è¿‡è´¦æˆ·ä½™é¢");if(!b.value||b.value<=0)return void Ae("è¯·è¾“å…¥æœ‰æ•ˆçš„è´¨æŠ¼æ•°é‡");const t=C(),n=f().utils.toWei(b.value.toString(),"ether"),s=await t.methods.allowance(a.value,g).call();Number(s)<Number(n)&&(k.value="æˆæƒä¸­...",h.value=!0,await t.methods.approve(g,n).send({from:a.value}),k.value="æˆæƒæˆåŠŸ");const i=_();await i.methods.stake(n).send({from:a.value}),await Ne(),Re.value=Re.value.map((t=>t.id===e?{...t,message:`æˆåŠŸè´¨æŠ¼ ${b.value} ${Ie.value}`,type:"success",persistent:!1}:t))}catch(t){Re.value=Re.value.filter((t=>t.id!==e)),st(t,(h.value,"è´¨æŠ¼å¤±è´¥"))}finally{Se.value.stake=!1,h.value=!1}},Je=async()=>{if(qe())return;const e=Fe("è§£é™¤è´¨æŠ¼ä¸­...");Se.value.unstake=!0;try{if(b.value<=0)return void Ae("è¯·è¾“å…¥æœ‰æ•ˆçš„è§£é™¤è´¨æŠ¼æ•°é‡");if(b.value>T.value)return void Ae(`è§£é™¤è´¨æŠ¼æ•°é‡ä¸èƒ½è¶…è¿‡å·²è´¨æŠ¼æ•°é‡ï¼ˆå½“å‰è´¨æŠ¼ï¼š${T.value} ${Ie.value}ï¼‰`);const t=_();await t.methods.unstake(f().utils.toWei(b.value.toString(),"ether")).send({from:a.value}),await Ne(),Re.value=Re.value.map((t=>t.id===e?{...t,message:`æˆåŠŸè§£é™¤è´¨æŠ¼ ${b.value} ${Ie.value}`,type:"success",persistent:!1}:t))}catch(t){Re.value=Re.value.filter((t=>t.id!==e)),st(t,"è§£é™¤è´¨æŠ¼å¤±è´¥")}finally{Se.value.unstake=!1}},He=async()=>{if(qe())return;const e=Fe("ææ¡ˆåˆ›å»ºä¸­...");Se.value.createProposal=!0;try{const t=_(),n=3600*y.value;await t.methods.createProposal(p.value,n).send({from:a.value}),o.value=!1,await Ne(),Re.value=Re.value.map((t=>t.id===e?{...t,message:"ææ¡ˆåˆ›å»ºæˆåŠŸ",type:"success",persistent:!1}:t))}catch(t){Re.value=Re.value.filter((t=>t.id!==e)),st(t,"ææ¡ˆåˆ›å»ºå¤±è´¥")}finally{Se.value.createProposal=!1}},ze=async(e,t)=>{const n=Fe("æäº¤æŠ•ç¥¨ä¸­...");Se.value.vote.add(e);try{if(Oe.value[e].hasVoted)return void Ae("æ‚¨å·²ç»å‚ä¸è¿‡è¯¥ææ¡ˆæŠ•ç¥¨");if(0===T.value)return void Ae("è¯·å…ˆè´¨æŠ¼ä»£å¸è·å¾—æŠ•ç¥¨æƒ");const s=_();await s.methods.vote(e,t).send({from:a.value}),Oe.value=Oe.value.map(((a,n)=>n===e?{...a,hasVoted:!0,forWeight:t?a.forWeight+T.value:a.forWeight,againstWeight:t?a.againstWeight:a.againstWeight+T.value}:a)),Re.value=Re.value.map((e=>e.id===n?{...e,message:"æŠ•ç¥¨æˆåŠŸ",type:"success",persistent:!1}:e))}catch(s){Re.value=Re.value.filter((e=>e.id!==n)),st(s,"æŠ•ç¥¨å¤±è´¥")}finally{Se.value.vote.delete(e)}},Ge=async e=>{if(qe())return;const t=Fe("å¯åŠ¨æŠ•ç¥¨ä¸­...");Se.value.startProposal.add(e);try{const n=_();await n.methods.startProposal(e).send({from:a.value}),Oe.value=Oe.value.map(((t,a)=>a===e?{...t,status:1,endTime:Math.floor(Date.now()/1e3)+t.duration}:t)),Re.value=Re.value.map((e=>e.id===t?{...e,message:"æˆåŠŸå¯åŠ¨æŠ•ç¥¨",type:"success",persistent:!1}:e))}catch(n){Re.value=Re.value.filter((e=>e.id!==t)),st(n,"å¯åŠ¨æŠ•ç¥¨å¤±è´¥")}finally{Se.value.startProposal.delete(e)}},Ye=async e=>{const t=Fe("æ­£åœ¨å…³é—­ææ¡ˆ...");Se.value.closeProposal.add(e);try{const n=_();await n.methods.closeProposal(e).send({from:a.value}),Oe.value=Oe.value.map(((t,a)=>a===e?{...t,status:2,isPassed:t.forWeight>t.againstWeight}:t)),Re.value=Re.value.map((e=>e.id===t?{...e,message:"ææ¡ˆå·²å…³é—­",type:"success",persistent:!1}:e))}catch(n){Re.value=Re.value.filter((e=>e.id!==t)),st(n,"å…³é—­ææ¡ˆå¤±è´¥")}finally{Se.value.closeProposal.delete(e)}},Ze=e=>e?`${e.slice(0,6)}...${e.slice(-4)}`:"",et=e=>Number(f().utils.fromWei(e.toString(),"ether"));function tt(e){return{0:"bg-gray-100 text-gray-600",1:"bg-blue-100 text-blue-600",2:"bg-purple-100 text-purple-600"}[e]}function at(e){return{0:"ç­‰å¾…å¼€å§‹",1:"æŠ•ç¥¨ä¸­",2:""}[e]}function nt(e,t){const a=e.forWeight+e.againstWeight;return 0===a?0:((t?e.forWeight:e.againstWeight)/a*100).toFixed(1)}async function st(e,t){console.error(t,e),Ae(`${t}: ${e.message||"æœªçŸ¥é”™è¯¯"}`)}const it=(0,l.KR)(null);function lt(e){if(!e)return"-";const t=Math.floor(Date.now()/1e3),a=e-t;if(a<=0)return"å·²ç»“æŸ";const n=Math.floor(a/3600),s=Math.floor(a%3600/60),i=a%60;return`${n}æ—¶${s}åˆ†${i}ç§’`}return(0,s.sV)((()=>{it.value=setInterval((()=>{Oe.value=Oe.value.map((e=>{const t=Math.floor(Date.now()/1e3);return{...e,status:1===e.status&&e.endTime<t?2:e.status,isOverdue:1===e.status&&e.endTime<t}}))}),1e3)})),(0,s.hi)((()=>{clearInterval(it.value)})),(e,l)=>((0,s.uX)(),(0,s.CE)("div",E,[(0,s.Lk)("div",M,[a.value?((0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("span",P,(0,i.v_)(Ze(a.value)),1),r.value?((0,s.uX)(),(0,s.CE)("span",x,"âš ï¸ è¯·åˆ‡æ¢åˆ°Sepoliaæµ‹è¯•ç½‘")):(0,s.Q3)("",!0)])):((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:Ve,class:"connect-btn"}," ğŸ”— è¿æ¥é’±åŒ… "))]),((0,s.uX)(),(0,s.Wv)(s.Im,{to:"body"},[(0,s.bF)(n.F,{name:"notification"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Re.value,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,i.C4)(["notification",e.type])},[(0,s.Lk)("div",$,[(0,s.Lk)("span",O,(0,i.v_)(Xe[e.type]),1),(0,s.eW)(" "+(0,i.v_)(e.message),1)])],2)))),128))])),_:1})])),l[25]||(l[25]=(0,s.Lk)("header",{class:"app-header"},[(0,s.Lk)("div",{class:"header-content"},[(0,s.Lk)("h1",{class:"logo"},[(0,s.Lk)("span",{class:"gradient-text"},"DAO Governance")])])],-1)),(0,s.Lk)("main",I,[(0,s.bF)(n.eB,{name:"fade"},{default:(0,s.k6)((()=>[t.value?((0,s.uX)(),(0,s.CE)("div",S,(0,i.v_)(t.value),1)):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(n.eB,{name:"fade"},{default:(0,s.k6)((()=>[r.value?((0,s.uX)(),(0,s.CE)("div",R," âš ï¸ è¯·å°†é’±åŒ…ç½‘ç»œåˆ‡æ¢è‡³Sepoliaæµ‹è¯•ç½‘ ")):(0,s.Q3)("",!0)])),_:1}),a.value&&!r.value?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("div",X,[(0,s.Lk)("div",K,[l[8]||(l[8]=(0,s.Lk)("h2",{class:"card-title"},"èµ„äº§æ¦‚è§ˆ",-1)),(0,s.Lk)("div",A,[l[6]||(l[6]=(0,s.Lk)("span",{class:"label"},"è´¦æˆ·ä½™é¢",-1)),(0,s.Lk)("span",F,(0,i.v_)(w.value)+" "+(0,i.v_)(Ie.value),1)]),(0,s.Lk)("div",D,[l[7]||(l[7]=(0,s.Lk)("span",{class:"label"},"è´¨æŠ¼æ•°é‡",-1)),(0,s.Lk)("span",V,(0,i.v_)(T.value)+" "+(0,i.v_)(Ie.value),1)])]),(0,s.Lk)("div",Q,[l[11]||(l[11]=(0,s.Lk)("h2",{class:"card-title"},"ä»£å¸è´¨æŠ¼",-1)),(0,s.Lk)("div",j,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>b.value=e),type:"number",placeholder:"è¾“å…¥è´¨æŠ¼æ•°é‡",class:"stake-input",min:"0",step:"1"},null,512),[[n.Jo,b.value,void 0,{number:!0}]]),(0,s.Lk)("div",{class:"stake-action-group"},[(0,s.Lk)("button",{class:"action-btn stake-btn primary",onClick:Be},l[9]||(l[9]=[(0,s.Lk)("span",{class:"btn-icon"},"ğŸ”’",-1),(0,s.eW)(" ç«‹å³è´¨æŠ¼ ")])),(0,s.Lk)("button",{class:"action-btn stake-btn secondary",onClick:Je},l[10]||(l[10]=[(0,s.Lk)("span",{class:"btn-icon"},"ğŸ”“",-1),(0,s.eW)(" è§£é™¤è´¨æŠ¼ ")]))]),k.value?((0,s.uX)(),(0,s.CE)("div",N,(0,i.v_)(k.value),1)):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",q,[l[14]||(l[14]=(0,s.Lk)("h2",{class:"card-title"},"å¿«é€Ÿæ“ä½œ",-1)),(0,s.Lk)("div",U,[(0,s.Lk)("button",{onClick:l[1]||(l[1]=e=>o.value=!0),class:"quick-action-btn"},l[12]||(l[12]=[(0,s.Lk)("span",{class:"icon"},"â•",-1),(0,s.Lk)("span",null,"åˆ›å»ºææ¡ˆ",-1)])),(0,s.Lk)("button",{onClick:Ue,class:"quick-action-btn mint"},l[13]||(l[13]=[(0,s.Lk)("span",{class:"icon"},"ğŸª™",-1),(0,s.Lk)("span",null,"é¢†å–æµ‹è¯•ä»£å¸",-1)]))])])]),(0,s.Lk)("div",B,[l[18]||(l[18]=(0,s.Lk)("h2",{class:"section-title"},"æ²»ç†ææ¡ˆ",-1)),0===Oe.value.length?((0,s.uX)(),(0,s.CE)("div",J,l[15]||(l[15]=[(0,s.Lk)("p",null,"å½“å‰æ²¡æœ‰è¿›è¡Œä¸­çš„ææ¡ˆ",-1)]))):((0,s.uX)(),(0,s.CE)("div",H,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Oe.value,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"proposal-card"},[(0,s.Lk)("div",z,[(0,s.Lk)("div",G,[(0,s.Lk)("h3",Y," #"+(0,i.v_)(t)+" "+(0,i.v_)(e.description),1),(0,s.Lk)("div",Z,[(0,s.Lk)("span",{class:(0,i.C4)([tt(e.status),"status-badge"])},[(0,s.eW)((0,i.v_)(at(e.status))+" ",1),1===e.status&&e.endTime<Math.floor(Date.now()/1e3)?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:e=>Ye(t),class:"status-action-btn",disabled:Se.value.closeProposal.has(t)},(0,i.v_)(Se.value.closeProposal.has(t)?"å¤„ç†ä¸­...":"ç»“æŸæŠ•ç¥¨"),9,ee)):(0,s.Q3)("",!0)],2),(0,s.Lk)("span",te,(0,i.v_)(lt(e.endTime)),1)])]),(0,s.Lk)("div",ae,[0===e.status?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:e=>Ge(t),class:"action-btn small"}," å¯åŠ¨æŠ•ç¥¨ ",8,ne)):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",se,[(0,s.Lk)("div",ie,[(0,s.Lk)("div",le,[l[16]||(l[16]=(0,s.Lk)("span",{class:"progress-label agree"},"èµæˆ",-1)),(0,s.Lk)("div",re,[(0,s.Lk)("span",oe,(0,i.v_)(e.forWeight),1),(0,s.Lk)("span",ue,(0,i.v_)(nt(e,!0))+"%",1)])]),(0,s.Lk)("div",pe,[(0,s.Lk)("div",{class:"progress-fill agree",style:(0,i.Tr)({width:`${nt(e,!0)}%`})},null,4)])]),(0,s.Lk)("div",ce,[(0,s.Lk)("div",de,[l[17]||(l[17]=(0,s.Lk)("span",{class:"progress-label disagree"},"åå¯¹",-1)),(0,s.Lk)("div",ye,[(0,s.Lk)("span",ve,(0,i.v_)(e.againstWeight),1),(0,s.Lk)("span",me,(0,i.v_)(nt(e,!1))+"%",1)])]),(0,s.Lk)("div",fe,[(0,s.Lk)("div",{class:"progress-fill disagree",style:(0,i.Tr)({width:`${nt(e,!1)}%`})},null,4)])])]),1===e.status?((0,s.uX)(),(0,s.CE)("div",be,[e.hasVoted?((0,s.uX)(),(0,s.CE)("div",ge," âœ… æ‚¨å·²å‚ä¸æŠ•ç¥¨ ")):((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("button",{onClick:e=>ze(t,!0),class:"vote-btn agree"}," âœ“ èµæˆ ",8,ke),(0,s.Lk)("button",{onClick:e=>ze(t,!1),class:"vote-btn disagree"}," âœ• åå¯¹ ",8,he)],64)),0===T.value?((0,s.uX)(),(0,s.CE)("div",we," âš ï¸ è¯·å…ˆè´¨æŠ¼ä»£å¸è·å¾—æŠ•ç¥¨æƒ ")):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),2===e.status?((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,i.C4)(["proposal-result",e.isPassed?"passed":"rejected"])},[(0,s.eW)((0,i.v_)(e.isPassed?"ğŸ‰ ææ¡ˆå·²é€šè¿‡":"âŒ ææ¡ˆæœªé€šè¿‡")+" ",1),(0,s.Lk)("span",Te," (èµæˆ "+(0,i.v_)(e.forWeight)+" vs åå¯¹ "+(0,i.v_)(e.againstWeight)+") ",1)],2)):(0,s.Q3)("",!0)])))),128))]))])],64)):a.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",Le,l[19]||(l[19]=[(0,s.Lk)("h2",null,"æ¬¢è¿æ¥åˆ°æˆ‘çš„DAOæ²»ç†å¹³å°",-1),(0,s.Lk)("p",null,"è¯·å…ˆè¿æ¥é’±åŒ…å¼€å§‹ä½¿ç”¨",-1)])))]),(0,s.bF)(n.eB,{name:"modal"},{default:(0,s.k6)((()=>[o.value?((0,s.uX)(),(0,s.CE)("div",Ce,[(0,s.Lk)("div",_e,[(0,s.Lk)("div",Ee,[l[20]||(l[20]=(0,s.Lk)("h3",{class:"modal-title"},"ğŸ—³ï¸ åˆ›å»ºæ–°ææ¡ˆ",-1)),(0,s.Lk)("button",{onClick:l[2]||(l[2]=e=>o.value=!1),class:"modal-close-btn"}," Ã— ")]),(0,s.Lk)("div",Me,[(0,s.Lk)("div",We,[l[21]||(l[21]=(0,s.Lk)("label",{class:"form-label"},[(0,s.Lk)("span",{class:"label-icon"},"ğŸ“"),(0,s.eW)(" ææ¡ˆæè¿° ")],-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":l[3]||(l[3]=e=>p.value=e),class:"form-input description-input",placeholder:"è¯·è¾“å…¥ææ¡ˆå†…å®¹...",rows:"3"},null,512),[[n.Jo,p.value]])]),(0,s.Lk)("div",Pe,[l[23]||(l[23]=(0,s.Lk)("label",{class:"form-label"},[(0,s.Lk)("span",{class:"label-icon"},"â³"),(0,s.eW)(" æŠ•ç¥¨æ—¶é•¿ï¼ˆå°æ—¶ï¼‰ ")],-1)),(0,s.Lk)("div",xe,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>y.value=e),type:"number",min:"1",class:"form-input duration-input",placeholder:"è¾“å…¥å°æ—¶æ•°"},null,512),[[n.Jo,y.value,void 0,{number:!0}]]),l[22]||(l[22]=(0,s.Lk)("span",{class:"duration-unit"},"å°æ—¶",-1))])])]),(0,s.Lk)("div",$e,[(0,s.Lk)("button",{onClick:l[5]||(l[5]=e=>o.value=!1),class:"modal-btn cancel-btn"}," å–æ¶ˆ "),(0,s.Lk)("button",{onClick:He,class:"modal-btn confirm-btn"},l[24]||(l[24]=[(0,s.Lk)("span",{class:"btn-icon"},"ğŸš€",-1),(0,s.eW)(" ç«‹å³åˆ›å»º ")]))])])])):(0,s.Q3)("",!0)])),_:1})]))}},Ie=a(1241);const Se=(0,Ie.A)(Oe,[["__scopeId","data-v-7c5c4484"]]);var Re=Se;(0,n.Ef)(Re).mount("#app")}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,s,i){if(!n){var l=1/0;for(p=0;p<e.length;p++){n=e[p][0],s=e[p][1],i=e[p][2];for(var r=!0,o=0;o<n.length;o++)(!1&i||l>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[o])}))?n.splice(o--,1):(r=!1,i<l&&(l=i));if(r){e.splice(p--,1);var u=s();void 0!==u&&(t=u)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[n,s,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,i,l=n[0],r=n[1],o=n[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(o)var p=o(a)}for(t&&t(n);u<l.length;u++)i=l[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(p)},n=self["webpackChunktestweb1"]=self["webpackChunktestweb1"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(8383)}));n=a.O(n)})();
//# sourceMappingURL=app.86ad9b62.js.map