{"version":3,"file":"js/app.50935729.js","mappings":"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","sources":["webpack://testweb1/./src/utils/web3.js","webpack://testweb1/./src/contracts/contracts.js","webpack://testweb1/./src/App.vue","webpack://testweb1/./src/App.vue?7ccd","webpack://testweb1/./src/main.js","webpack://testweb1/webpack/bootstrap","webpack://testweb1/webpack/runtime/chunk loaded","webpack://testweb1/webpack/runtime/compat get default export","webpack://testweb1/webpack/runtime/define property getters","webpack://testweb1/webpack/runtime/global","webpack://testweb1/webpack/runtime/hasOwnProperty shorthand","webpack://testweb1/webpack/runtime/make namespace object","webpack://testweb1/webpack/runtime/jsonp chunk loading","webpack://testweb1/webpack/startup"],"sourcesContent":["// utils/web3.js\nimport Web3 from 'web3';\n\nlet web3;\nconst SEPOLIA_CHAIN_ID = 11155111; // Sepolia测试网链ID 11155111\nconst SEPOLIA_HEX_ID = '0xaa36a7';   // 对应的十六进制\n// 初始化Web3（不自动连接）\nconst initWeb3 = () => {\n    if (window.ethereum) {\n        web3 = new Web3(window.ethereum);\n        console.log('Web3实例已创建');\n    } else {\n        console.error('请安装MetaMask!');\n    }\n    return web3;\n};\n\n// 连接钱包（需要用户点击触发）\nconst connectWallet = async () => {\n    if (!web3) {\n        throw new Error('未检测到钱包，请尝试使用小狐狸钱包');\n    }\n\n    try {\n        // 添加调试日志\n        let chainId = await web3.eth.getChainId();\n        chainId = Number(chainId); // 转换为 number\n        console.log('当前链ID:',\n            `类型: ${typeof chainId}`,\n            `值: ${chainId}（十进制）`,\n            `目标链ID: ${SEPOLIA_CHAIN_ID}（十进制）`\n        );\n\n\n        // 1. 请求账户连接\n        const accounts = await window.ethereum.request({\n            method: 'eth_requestAccounts'\n        });\n\n        // 2. 检查网络\n\n        if (chainId !== parseInt(SEPOLIA_CHAIN_ID, 16)) {\n            try {\n                await window.ethereum.request({\n                    method: 'wallet_switchEthereumChain',\n                    params: [{ chainId: SEPOLIA_HEX_ID }] // 使用十六进制\n                });\n            } catch (switchError) {\n                // 4902错误表示该链尚未添加到钱包\n                if (switchError.code === 4902) {\n                    await addSepoliaNetwork();\n                } else {\n                    throw new Error('请手动切换到Sepolia测试网');\n                }\n            }\n        }\n\n        return accounts[0];\n    } catch (error) {\n        console.error('连接失败:', error);\n        throw error;\n    }\n};\n\n// 添加Sepolia网络配置\nconst addSepoliaNetwork = async () => {\n    await window.ethereum.request({\n        method: 'wallet_addEthereumChain',\n        params: [{\n            chainId: SEPOLIA_HEX_ID, // 改为十六进制格式\n            chainName: 'Sepolia Test Network',\n            nativeCurrency: {\n                name: 'Sepolia ETH',\n                symbol: 'ETH',\n                decimals: 18\n            },\n            rpcUrls: ['https://rpc.sepolia.org'],\n            blockExplorerUrls: ['https://sepolia.etherscan.io']\n        }]\n    });\n};\n\n\n// 获取当前账户\nconst getAccount = async () => {\n    const accounts = await web3.eth.getAccounts();\n    return accounts[0] || null;\n};\n\n\n\n// 修改网络变更监听\nconst listenNetworkChange = (callback) => {\n    window.ethereum?.on('chainChanged', (hexChainId) => {\n        const decimalChainId = parseInt(hexChainId, 16);\n        console.log('网络变更事件:',\n            `原始值: ${hexChainId}（类型: ${typeof hexChainId}）`,\n            `转换后: ${decimalChainId}（类型: ${typeof decimalChainId}）`\n        );\n        callback(decimalChainId);\n    });\n};\n// 获取已初始化的web3实例\nexport const getWeb3 = () => {\n    if (!web3) {\n        throw new Error('Web3未初始化');\n    }\n    return web3;\n};\nexport {\n    initWeb3,\n    connectWallet,\n    getAccount,\n    listenNetworkChange,\n    SEPOLIA_CHAIN_ID\n};","import { getWeb3 } from '../utils/web3';\n\n// 合约 ABI 和地址\nconst governanceTokenAbi = [\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"initialSupply\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"spender\",\n                \"type\": \"address\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"allowance\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"needed\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"ERC20InsufficientAllowance\",\n        \"type\": \"error\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"sender\",\n                \"type\": \"address\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"balance\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"needed\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"ERC20InsufficientBalance\",\n        \"type\": \"error\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"approver\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"ERC20InvalidApprover\",\n        \"type\": \"error\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"receiver\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"ERC20InvalidReceiver\",\n        \"type\": \"error\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"sender\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"ERC20InvalidSender\",\n        \"type\": \"error\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"spender\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"ERC20InvalidSpender\",\n        \"type\": \"error\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"owner\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"OwnableInvalidOwner\",\n        \"type\": \"error\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"account\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"OwnableUnauthorizedAccount\",\n        \"type\": \"error\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"owner\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"spender\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"Approval\",\n        \"type\": \"event\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"from\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"amount\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"string\",\n                \"name\": \"message\",\n                \"type\": \"string\"\n            }\n        ],\n        \"name\": \"BurnSuccess\",\n        \"type\": \"event\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"to\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"amount\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"string\",\n                \"name\": \"message\",\n                \"type\": \"string\"\n            }\n        ],\n        \"name\": \"MintSuccess\",\n        \"type\": \"event\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"previousOwner\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"newOwner\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"OwnershipTransferred\",\n        \"type\": \"event\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"previousOwner\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"newOwner\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"string\",\n                \"name\": \"message\",\n                \"type\": \"string\"\n            }\n        ],\n        \"name\": \"OwnershipTransferred\",\n        \"type\": \"event\"\n    },\n    {\n        \"anonymous\": false,\n        \"inputs\": [\n            {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"from\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": true,\n                \"internalType\": \"address\",\n                \"name\": \"to\",\n                \"type\": \"address\"\n            },\n            {\n                \"indexed\": false,\n                \"internalType\": \"uint256\",\n                \"name\": \"value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"Transfer\",\n        \"type\": \"event\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"owner\",\n                \"type\": \"address\"\n            },\n            {\n                \"internalType\": \"address\",\n                \"name\": \"spender\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"allowance\",\n        \"outputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"spender\",\n                \"type\": \"address\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"approve\",\n        \"outputs\": [\n            {\n                \"internalType\": \"bool\",\n                \"name\": \"\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"account\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"balanceOf\",\n        \"outputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"amount\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"burn\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [],\n        \"name\": \"decimals\",\n        \"outputs\": [\n            {\n                \"internalType\": \"uint8\",\n                \"name\": \"\",\n                \"type\": \"uint8\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"amount\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"mint\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [],\n        \"name\": \"name\",\n        \"outputs\": [\n            {\n                \"internalType\": \"string\",\n                \"name\": \"\",\n                \"type\": \"string\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [],\n        \"name\": \"owner\",\n        \"outputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [],\n        \"name\": \"renounceOwnership\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [],\n        \"name\": \"symbol\",\n        \"outputs\": [\n            {\n                \"internalType\": \"string\",\n                \"name\": \"\",\n                \"type\": \"string\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [],\n        \"name\": \"totalSupply\",\n        \"outputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"to\",\n                \"type\": \"address\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"transfer\",\n        \"outputs\": [\n            {\n                \"internalType\": \"bool\",\n                \"name\": \"\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"from\",\n                \"type\": \"address\"\n            },\n            {\n                \"internalType\": \"address\",\n                \"name\": \"to\",\n                \"type\": \"address\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"value\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"transferFrom\",\n        \"outputs\": [\n            {\n                \"internalType\": \"bool\",\n                \"name\": \"\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"newOwner\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"transferOwnership\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    }\n];\nconst votingAbi = [\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"_governanceToken\",\n                \"type\": \"address\"\n            }\n        ],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"constructor\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"_proposalId\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"closeProposal\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"string\",\n                \"name\": \"_description\",\n                \"type\": \"string\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"_duration\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"createProposal\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [],\n        \"name\": \"getAllProposals\",\n        \"outputs\": [\n            {\n                \"components\": [\n                    {\n                        \"internalType\": \"string\",\n                        \"name\": \"description\",\n                        \"type\": \"string\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"forWeight\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"againstWeight\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"duration\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"uint256\",\n                        \"name\": \"endTime\",\n                        \"type\": \"uint256\"\n                    },\n                    {\n                        \"internalType\": \"enum Voting.ProposalStatus\",\n                        \"name\": \"status\",\n                        \"type\": \"uint8\"\n                    },\n                    {\n                        \"internalType\": \"bool\",\n                        \"name\": \"executed\",\n                        \"type\": \"bool\"\n                    }\n                ],\n                \"internalType\": \"struct Voting.Proposal[]\",\n                \"name\": \"\",\n                \"type\": \"tuple[]\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [],\n        \"name\": \"governanceToken\",\n        \"outputs\": [\n            {\n                \"internalType\": \"contract IERC20\",\n                \"name\": \"\",\n                \"type\": \"address\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"_proposalId\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"isProposalPassed\",\n        \"outputs\": [\n            {\n                \"internalType\": \"bool\",\n                \"name\": \"\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"proposals\",\n        \"outputs\": [\n            {\n                \"internalType\": \"string\",\n                \"name\": \"description\",\n                \"type\": \"string\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"forWeight\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"againstWeight\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"duration\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"endTime\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"enum Voting.ProposalStatus\",\n                \"name\": \"status\",\n                \"type\": \"uint8\"\n            },\n            {\n                \"internalType\": \"bool\",\n                \"name\": \"executed\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"amount\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"stake\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"stakedTokens\",\n        \"outputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"_proposalId\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"startProposal\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"amount\",\n                \"type\": \"uint256\"\n            }\n        ],\n        \"name\": \"unstake\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"_proposalId\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"bool\",\n                \"name\": \"isFor\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"name\": \"vote\",\n        \"outputs\": [],\n        \"stateMutability\": \"nonpayable\",\n        \"type\": \"function\"\n    },\n    {\n        \"inputs\": [\n            {\n                \"internalType\": \"uint256\",\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            },\n            {\n                \"internalType\": \"address\",\n                \"name\": \"\",\n                \"type\": \"address\"\n            }\n        ],\n        \"name\": \"voters\",\n        \"outputs\": [\n            {\n                \"internalType\": \"bool\",\n                \"name\": \"\",\n                \"type\": \"bool\"\n            }\n        ],\n        \"stateMutability\": \"view\",\n        \"type\": \"function\"\n    }\n];\n\nconst governanceTokenAddress = '0xf21cf87969a36dd691ecb94da5f170f11307b93b'; // 替换为你的治理代币合约地址\nconst votingContractAddress = '0x617cdba47a2c352802abe15fc6f5ae0e791c8cff'; // 替换为你的投票合约地址\n\n// 合约实例\nlet governanceTokenContract;\nlet votingContract;\n\n// 初始化合约\nconst initContracts = async () => {\n    const web3 = getWeb3();\n\n    // 初始化治理代币合约\n    governanceTokenContract = new web3.eth.Contract(\n        governanceTokenAbi,\n        governanceTokenAddress\n    );\n\n    // 初始化投票合约\n    votingContract = new web3.eth.Contract(votingAbi, votingContractAddress);\n\n    console.log('合约初始化成功');\n};\n\n// 获取治理代币合约实例\nconst getGovernanceTokenContract = () => {\n    if (!governanceTokenContract) {\n        throw new Error('治理代币合约未初始化');\n    }\n    return governanceTokenContract;\n};\n\n// 获取投票合约实例\nconst getVotingContract = () => {\n    if (!votingContract) {\n        throw new Error('投票合约未初始化');\n    }\n    return votingContract;\n};\n\nexport { initContracts, getGovernanceTokenContract, getVotingContract,governanceTokenAddress,votingContractAddress };","<template>\n  <div class=\"app-container\">\n    <!-- 钱包连接状态 -->\n    <div class=\"wallet-status\">\n      <button\n          v-if=\"!account\"\n          @click=\"handleConnect\"\n          class=\"connect-btn\"\n      >\n        🔗 连接钱包\n      </button>\n      <div v-else class=\"account-info\">\n        <span class=\"account-address\">{{ shortAddress(account) }}</span>\n        <span v-if=\"wrongNetwork\" class=\"network-alert\">⚠️ 请切换到Sepolia测试网</span>\n      </div>\n    </div>\n\n    <teleport to=\"body\">\n      <transition-group name=\"notification\">\n        <div\n            v-for=\"note in notifications\"\n            :key=\"note.id\"\n            class=\"notification\"\n            :class=\"note.type\"\n        >\n          <div class=\"notification-content\">\n            <span class=\"icon\">{{ typeIcons[note.type] }}</span>\n            {{ note.message }}\n          </div>\n        </div>\n      </transition-group>\n    </teleport>\n\n    <!-- 头部 -->\n    <header class=\"app-header\">\n      <div class=\"header-content\">\n        <h1 class=\"logo\">\n          <span class=\"gradient-text\">DAO Governance</span>\n        </h1>\n      </div>\n    </header>\n\n    <!-- 主内容 -->\n    <main class=\"main-content\">\n      <transition name=\"fade\">\n        <div v-if=\"error\" class=\"error-alert\">\n          {{ error }}\n        </div>\n      </transition>\n\n      <!-- 网络错误提示 -->\n      <transition name=\"fade\">\n        <div v-if=\"wrongNetwork\" class=\"error-alert\">\n          ⚠️ 请将钱包网络切换至Sepolia测试网\n        </div>\n      </transition>\n\n      <template v-if=\"account && !wrongNetwork\">\n\n      <!-- 数据看板 -->\n      <div class=\"dashboard\">\n        <!-- 资产信息 -->\n        <div class=\"info-card\">\n          <h2 class=\"card-title\">资产概览</h2>\n          <div class=\"asset-item\">\n            <span class=\"label\">账户余额</span>\n            <span class=\"value\">{{ myBalance }} {{ tokenSymbol }}</span>\n          </div>\n          <div class=\"asset-item\">\n            <span class=\"label\">质押数量</span>\n            <span class=\"value highlight\">{{ stakedBalance }} {{ tokenSymbol }}</span>\n          </div>\n        </div>\n\n        <!-- 质押操作 -->\n        <div class=\"info-card\">\n          <h2 class=\"card-title\">代币质押</h2>\n          <div class=\"stake-controls\">\n            <input\n                v-model.number=\"stakeAmount\"\n                type=\"number\"\n                placeholder=\"输入质押数量\"\n                class=\"stake-input\"\n                min=\"0\"\n                step=\"1\"\n            >\n            <div class=\"stake-action-group\">\n              <button\n                  class=\"action-btn stake-btn primary\"\n                  @click=\"handleStake\"\n              >\n                <span class=\"btn-icon\">🔒</span>\n                立即质押\n              </button>\n              <button\n                  class=\"action-btn stake-btn secondary\"\n                  @click=\"unstake\"\n              >\n                <span class=\"btn-icon\">🔓</span>\n                解除质押\n              </button>\n            </div>\n            <div v-if=\"approveStatus\" class=\"approve-status\">\n              {{ approveStatus }}\n            </div>\n          </div>\n        </div>\n\n\n        <!-- 快速操作 -->\n        <div class=\"info-card quick-actions\">\n          <h2 class=\"card-title\">快速操作</h2>\n          <div class=\"quick-action-buttons\">\n            <button @click=\"showCreateProposalModal = true\" class=\"quick-action-btn\">\n              <span class=\"icon\">➕</span>\n              <span>创建提案</span>\n            </button>\n            <button @click=\"mintTokens\" class=\"quick-action-btn mint\">\n              <span class=\"icon\">🪙</span>\n              <span>领取测试代币</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 提案列表 -->\n      <div class=\"proposals-list\">\n        <h2 class=\"section-title\">治理提案</h2>\n\n        <div v-if=\"proposals.length === 0\" class=\"empty-state\">\n<!--          <img src=\"../assets/empty.svg\" class=\"empty-icon\" alt=\"空状态\">-->\n          <p>当前没有进行中的提案</p>\n        </div>\n\n        <div v-else class=\"proposals-container\">\n          <div\n              v-for=\"(proposal, index) in proposals\"\n              :key=\"index\"\n              class=\"proposal-card\"\n          >\n            <div class=\"proposal-header\">\n              <div class=\"proposal-meta\">\n                <h3 class=\"proposal-title\">\n                  #{{ index }} {{ proposal.description }}\n                </h3>\n                <!-- 修改提案状态显示部分 -->\n                <div class=\"status-container\">\n  <span :class=\"statusBadgeClass(proposal.status)\" class=\"status-badge\">\n    {{ proposalStatus(proposal.status) }}\n<button\n    v-if=\"proposal.status === 1 && proposal.endTime < Math.floor(Date.now()/1000)\"\n    @click=\"closeProposal(index)\"\n    class=\"status-action-btn\"\n    :disabled=\"loadingStates.closeProposal.has(index)\"\n>\n  {{ loadingStates.closeProposal.has(index) ? '处理中...' : '结束投票' }}\n</button>\n\n  </span>\n                  <span class=\"time-remaining\">\n    {{ remainingTime(proposal.endTime) }}\n  </span>\n                </div>\n              </div>\n              <div class=\"proposal-actions\">\n                <button\n                    v-if=\"proposal.status === 0\"\n                    @click=\"startProposal(index)\"\n                    class=\"action-btn small\"\n                >\n                  启动投票\n                </button>\n\n              </div>\n            </div>\n\n            <!-- 投票进度 -->\n            <div class=\"voting-progress\">\n              <div class=\"progress-item\">\n                <div class=\"progress-header\">\n                  <span class=\"progress-label agree\">赞成</span>\n                  <div class=\"progress-stats\">\n                    <span class=\"progress-weight\">{{ proposal.forWeight }}</span>\n                    <span class=\"progress-percent\">{{ votePercentage(proposal, true) }}%</span>\n                  </div>\n                </div>\n                <div class=\"progress-bar\">\n                  <div\n                      class=\"progress-fill agree\"\n                      :style=\"{ width: `${votePercentage(proposal, true)}%` }\"\n                  ></div>\n                </div>\n              </div>\n\n              <div class=\"progress-item\">\n                <div class=\"progress-header\">\n                  <span class=\"progress-label disagree\">反对</span>\n                  <div class=\"progress-stats\">\n                    <span class=\"progress-weight\">{{ proposal.againstWeight }}</span>\n                    <span class=\"progress-percent\">{{ votePercentage(proposal, false) }}%</span>\n                  </div>\n                </div>\n                <div class=\"progress-bar\">\n                  <div\n                      class=\"progress-fill disagree\"\n                      :style=\"{ width: `${votePercentage(proposal, false)}%` }\"\n                  ></div>\n                </div>\n              </div>\n            </div>\n\n            <!-- 投票操作 -->\n            <div v-if=\"proposal.status === 1\" class=\"voting-actions\">\n              <template v-if=\"!proposal.hasVoted\">\n                <button @click=\"handleVote(index, true)\" class=\"vote-btn agree\">\n                  ✓ 赞成\n                </button>\n                <button @click=\"handleVote(index, false)\" class=\"vote-btn disagree\">\n                  ✕ 反对\n                </button>\n              </template>\n              <div v-else class=\"voted-indicator\">\n                ✅ 您已参与投票\n              </div>\n\n              <div v-if=\"stakedBalance === 0\" class=\"warning-message\">\n                ⚠️ 请先质押代币获得投票权\n              </div>\n            </div>\n\n            <!-- 提案结果 -->\n            <div v-if=\"proposal.status === 2\" class=\"proposal-result\" :class=\"proposal.isPassed ? 'passed' : 'rejected'\">\n              {{ proposal.isPassed ? '🎉 提案已通过' : '❌ 提案未通过' }}\n              <span class=\"vote-summary\">\n                (赞成 {{ proposal.forWeight }} vs 反对 {{ proposal.againstWeight }})\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n      </template>\n        <!-- 未连接提示 -->\n        <div v-else-if=\"!account\" class=\"connect-prompt\">\n          <h2>欢迎来到我的DAO治理平台</h2>\n          <p>请先连接钱包开始使用</p>\n        </div>\n    </main>\n\n    <!-- 创建提案模态框 -->\n    <!-- 修改后的创建提案模态框 -->\n    <transition name=\"modal\">\n      <div v-if=\"showCreateProposalModal\" class=\"modal-overlay\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h3 class=\"modal-title\">🗳️ 创建新提案</h3>\n            <button\n                @click=\"showCreateProposalModal = false\"\n                class=\"modal-close-btn\"\n            >\n              &times;\n            </button>\n          </div>\n\n          <div class=\"modal-body\">\n            <div class=\"form-group\">\n              <label class=\"form-label\">\n                <span class=\"label-icon\">📝</span>\n                提案描述\n              </label>\n              <textarea\n                  v-model=\"newProposalDescription\"\n                  class=\"form-input description-input\"\n                  placeholder=\"请输入提案内容...\"\n                  rows=\"3\"\n              ></textarea>\n            </div>\n\n            <div class=\"form-group\">\n              <label class=\"form-label\">\n                <span class=\"label-icon\">⏳</span>\n                投票时长（小时）\n              </label>\n              <div class=\"duration-input-group\">\n                <input\n                    v-model.number=\"newProposalDurationHours\"\n                    type=\"number\"\n                    min=\"1\"\n                    class=\"form-input duration-input\"\n                    placeholder=\"输入小时数\"\n                >\n                <span class=\"duration-unit\">小时</span>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"modal-actions\">\n            <button\n                @click=\"showCreateProposalModal = false\"\n                class=\"modal-btn cancel-btn\"\n            >\n              取消\n            </button>\n            <button\n                @click=\"createProposal\"\n                class=\"modal-btn confirm-btn\"\n            >\n              <span class=\"btn-icon\">🚀</span>\n              立即创建\n            </button>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted } from 'vue'\nimport {\n  getWeb3,\n  initWeb3,\n  connectWallet,\n  getAccount,\n  listenNetworkChange,\n  SEPOLIA_CHAIN_ID\n} from './utils/web3'\nimport { initContracts, getGovernanceTokenContract, getVotingContract, votingContractAddress } from './contracts/contracts'\n\n// ==================== 状态管理 ====================\nconst error = ref(null)\nconst account = ref(null)\nconst wrongNetwork = ref(false)\nconst showCreateProposalModal = ref(false)\nconst newProposalDescription = ref('')\nconst newProposalDurationHours = ref(24)\nconst stakeAmount = ref(0)\nconst approveStatus = ref('')\nconst isApproving = ref(false)\nconst myBalance = ref(0)\nconst stakedBalance = ref(0)\nconst proposals = ref([])\nconst tokenSymbol = ref('')\n\n// ==================== 加载状态管理 ====================\n// 使用对象存储各操作的加载状态\nconst loadingStates = ref({\n  mint: false,              // 铸造代币\n  stake: false,             // 质押操作\n  unstake: false,           // 解除质押\n  createProposal: false,    // 创建提案\n  vote: new Set(),          // 投票操作（存储提案ID）\n  startProposal: new Set(),  // 启动提案（存储提案ID）\n  closeProposal: new Set()  // 关闭提案加载状态\n})\n\n// ==================== 通知系统 ====================\nconst notifications = ref([])\nconst typeIcons = {\n  error: '❌',\n  success: '✅',\n  warning: '⚠️',\n  loading: '⏳' // 新增加载状态图标\n}\n\n/**\n * 显示通知\n * @param {string} message - 通知内容\n * @param {string} type - 通知类型（error/success/warning/loading）\n * @param {boolean} persistent - 是否持久化（不会自动关闭）\n * @returns {number} 通知ID（用于后续更新）\n */\nconst showNotification = (message, type = 'error', persistent = false) => {\n  const id = Date.now()\n  notifications.value.push({\n    id,\n    message,\n    type,\n    persistent\n  })\n\n\n\n    setTimeout(() => {\n      notifications.value = notifications.value.filter(n => n.id !== id)\n    }, 5000)\n\n  return id\n}\n\n// 快捷方法\nconst showError = (message) => showNotification(message, 'error')\n// const showSuccess = (message) => showNotification(message, 'success')\n\n/**\n * 显示加载中的通知\n * @param {string} message - 加载提示信息\n * @returns {number} 通知ID\n */\nconst showLoading = (message) => {\n  return showNotification(message, 'loading', true)\n}\n\n// ==================== 初始化 ====================\n\nonMounted(async () => {\n\n  try {\n    initWeb3()\n    await initContracts()\n    checkExistingConnection()\n    listenNetworkChange(handleNetworkChange)\n  } catch (err) {\n    // showError('初始化失败，请刷新页面')\n  }\n})\n\nonUnmounted(() => {\n  clearInterval(timer.value)\n})\n// ==================== 钱包相关方法 ====================\nconst checkExistingConnection = async () => {\n  try {\n    const acc = await getAccount()\n    if (acc) {\n      account.value = acc\n      await checkNetwork()\n      await loadData()\n    }\n  } catch (err) {\n    console.error('自动连接检查失败:', err)\n  }\n}\n\nconst handleConnect = async () => {\n  try {\n    account.value = await connectWallet()\n    wrongNetwork.value = false\n    await loadData()\n  } catch (err) {\n    showError('连接失败: ' + (err.message || '用户取消操作'))\n  }\n}\n\n\n// 修改网络检查方法\nconst checkNetwork = async () => {\n  try {\n    const chainId = Number(await getWeb3().eth.getChainId()); // 转换为 number\n    console.log('网络检查:',\n        `当前链ID: ${chainId}（类型: ${typeof chainId}）`,\n        `目标链ID: ${SEPOLIA_CHAIN_ID}（类型: ${typeof SEPOLIA_CHAIN_ID}）`\n    );\n\n    wrongNetwork.value = chainId !== SEPOLIA_CHAIN_ID;\n\n    console.log('比较结果:',\n        wrongNetwork.value ? '网络错误' : '网络正确',\n        `计算式: ${chainId} !== ${SEPOLIA_CHAIN_ID}`\n    );\n  } catch {\n    wrongNetwork.value = true;\n  }\n};\n\n// 修改网络变更处理\nconst handleNetworkChange = (chainId) => {\n  console.log('处理网络变更:',\n      `收到链ID: ${chainId}（类型: ${typeof chainId}）`,\n      `目标链ID: ${SEPOLIA_CHAIN_ID}（类型: ${typeof SEPOLIA_CHAIN_ID}）`\n  );\n\n  wrongNetwork.value = chainId !== SEPOLIA_CHAIN_ID;\n\n  console.log('比较结果:',\n      wrongNetwork.value ? '网络错误' : '网络正确',\n      `计算式: ${chainId} !== ${SEPOLIA_CHAIN_ID}`\n  );\n\n  if (!wrongNetwork.value) loadData();\n};\n\n\n// ==================== 数据加载 ====================\n/**\n * 加载核心数据（余额、提案等）\n */\nasync function loadData() {\n  if (wrongNetwork.value) return\n\n  try {\n    const tokenContract = getGovernanceTokenContract();\n    const votingContract = getVotingContract();\n\n    // 加载代币信息\n    tokenSymbol.value = await tokenContract.methods.symbol().call();\n    const balance = await tokenContract.methods.balanceOf(account.value).call();\n    myBalance.value = weiToEther(balance);\n\n    // 加载质押信息\n    const staked = await votingContract.methods.stakedTokens(account.value).call();\n    stakedBalance.value = weiToEther(staked);\n\n    // 加载提案\n    const rawProposals = await votingContract.methods.getAllProposals().call();\n    proposals.value = await Promise.all(\n        rawProposals.map(async (p, index) => {\n          const currentTime = Math.floor(Date.now()/1000)\n          const isOverdue = p.status === 1 && Number(p.endTime) < currentTime\n\n          return {\n            ...p,\n            forWeight: weiToEther(p.forWeight),\n            againstWeight: weiToEther(p.againstWeight),\n            endTime: Number(p.endTime),\n            status: isOverdue ? 2 : Number(p.status), // 自动更新过期状态\n            hasVoted: await votingContract.methods.voters(index, account.value).call(),\n            isPassed: p.status === 2 ? await votingContract.methods.isProposalPassed(index).call() : false,\n            isOverdue\n          }\n        })\n\n    );\n  } catch (err) {\n    handleError(err, '数据加载失败')\n  }\n}\n\n// ==================== 核心功能 ====================\n/**\n * 铸造测试代币\n */\nconst networkGuard = () => {\n  if (wrongNetwork.value) {\n    showError('请先切换到Sepolia网络')\n    return true\n  }\n  return false\n}\n\nconst mintTokens = async () => {\n  if (networkGuard()) return\n  const loadingId = showLoading('代币铸造中...') // 显示加载提示\n  loadingStates.value.mint = true\n  try {\n    const tokenContract = getGovernanceTokenContract()\n    const amount = 1000\n    await tokenContract.methods.mint(\n        getWeb3().utils.toWei(amount.toString(), 'ether')\n    ).send({ from: account.value })\n\n    await loadData()\n    // 更新通知为成功状态\n    notifications.value = notifications.value.map(n =>\n        n.id === loadingId ? {\n          ...n,\n          message: `成功领取 ${amount} ${tokenSymbol.value}`,\n          type: 'success',\n          persistent: false\n        } : n\n    )\n  } catch (err) {\n    notifications.value = notifications.value.filter(n => n.id !== loadingId)\n    handleError(err, '领取测试币失败')\n  } finally {\n    loadingStates.value.mint = false\n  }\n}\n\n/**\n * 质押代币\n */\nconst handleStake = async () => {\n  if (networkGuard()) return\n  const loadingId = showLoading('质押处理中...')\n  loadingStates.value.stake = true\n  try {\n    if (stakeAmount.value > myBalance.value) {\n      showError(`质押数量不能超过账户余额`)\n      return\n    }\n    if (!stakeAmount.value || stakeAmount.value <= 0) {\n      showError('请输入有效的质押数量')\n      return\n    }\n\n    const tokenContract = getGovernanceTokenContract()\n    const requiredAmount = getWeb3().utils.toWei(stakeAmount.value.toString(), 'ether')\n\n    // 检查授权\n    const allowance = await tokenContract.methods\n        .allowance(account.value, votingContractAddress)\n        .call()\n\n    if (Number(allowance) < Number(requiredAmount)) {\n      approveStatus.value = '授权中...'\n      isApproving.value = true\n      await tokenContract.methods\n          .approve(votingContractAddress, requiredAmount)\n          .send({ from: account.value })\n      approveStatus.value = `授权成功`\n    }\n\n    // 执行质押\n    const contract = getVotingContract()\n    await contract.methods.stake(requiredAmount).send({ from: account.value })\n    await loadData()\n\n    // 更新通知\n    notifications.value = notifications.value.map(n =>\n        n.id === loadingId ? {\n          ...n,\n          message: `成功质押 ${stakeAmount.value} ${tokenSymbol.value}`,\n          type: 'success',\n          persistent: false\n        } : n\n    )\n  } catch (err) {\n    notifications.value = notifications.value.filter(n => n.id !== loadingId)\n    handleError(err, isApproving.value ? '质押失败' : '质押失败')\n  } finally {\n    loadingStates.value.stake = false\n    isApproving.value = false\n  }\n}\n\n/**\n * 解除质押\n */\nconst unstake = async () => {\n  if (networkGuard()) return\n  const loadingId = showLoading('解除质押中...')\n  loadingStates.value.unstake = true\n  try {\n    // 输入验证\n    if (stakeAmount.value <= 0) {\n      showError('请输入有效的解除质押数量')\n      return\n    }\n    if (stakeAmount.value > stakedBalance.value) {\n      showError(`解除质押数量不能超过已质押数量（当前质押：${stakedBalance.value} ${tokenSymbol.value}）`)\n      return\n    }\n\n    const contract = getVotingContract()\n    await contract.methods.unstake(\n        getWeb3().utils.toWei(stakeAmount.value.toString(), 'ether')\n    ).send({ from: account.value })\n\n    await loadData()\n\n    notifications.value = notifications.value.map(n =>\n        n.id === loadingId ? {\n          ...n,\n          message: `成功解除质押 ${stakeAmount.value} ${tokenSymbol.value}`,\n          type: 'success',\n          persistent: false\n        } : n\n    )\n  } catch (err) {\n    notifications.value = notifications.value.filter(n => n.id !== loadingId)\n    handleError(err, '解除质押失败')\n  } finally {\n    loadingStates.value.unstake = false\n  }\n}\n\n/**\n * 创建提案\n */\nconst createProposal = async () => {\n  if (networkGuard()) return\n  const loadingId = showLoading('提案创建中...')\n  loadingStates.value.createProposal = true\n  try {\n    const contract = getVotingContract()\n    const durationSeconds = newProposalDurationHours.value * 3600\n    await contract.methods.createProposal(\n        newProposalDescription.value,\n        durationSeconds\n    ).send({ from: account.value })\n\n    showCreateProposalModal.value = false\n    await loadData()\n\n    notifications.value = notifications.value.map(n =>\n        n.id === loadingId ? {\n          ...n,\n          message: '提案创建成功',\n          type: 'success',\n          persistent: false\n        } : n\n    )\n  } catch (err) {\n    notifications.value = notifications.value.filter(n => n.id !== loadingId)\n    handleError(err, '提案创建失败')\n  } finally {\n    loadingStates.value.createProposal = false\n  }\n}\n\n/**\n * 参与投票\n * @param {number} proposalId - 提案ID\n * @param {boolean} isFor - 是否赞成\n */\nconst handleVote = async (proposalId, isFor) => {\n  const loadingId = showLoading('提交投票中...')\n  loadingStates.value.vote.add(proposalId) // 记录正在投票的提案\n  try {\n    if (proposals.value[proposalId].hasVoted) {\n      showError('您已经参与过该提案投票')\n      return\n    }\n\n    if (stakedBalance.value === 0) {\n      showError('请先质押代币获得投票权')\n      return\n    }\n\n    const contract = getVotingContract()\n    await contract.methods.vote(proposalId, isFor).send({ from: account.value })\n\n    // 本地立即更新状态\n    proposals.value = proposals.value.map((p, index) => {\n      if (index === proposalId) {\n        return {\n          ...p,\n          hasVoted: true,\n          forWeight: isFor ? p.forWeight + stakedBalance.value : p.forWeight,\n          againstWeight: !isFor ? p.againstWeight + stakedBalance.value : p.againstWeight\n        }\n      }\n      return p\n    })\n\n    // 更新通知\n    notifications.value = notifications.value.map(n =>\n        n.id === loadingId ? {\n          ...n,\n          message: '投票成功',\n          type: 'success',\n          persistent: false\n        } : n\n    )\n  } catch (err) {\n    notifications.value = notifications.value.filter(n => n.id !== loadingId)\n    handleError(err, '投票失败')\n  } finally {\n    loadingStates.value.vote.delete(proposalId)\n  }\n}\n\n/**\n * 启动提案投票\n * @param {number} proposalId - 提案ID\n */\nconst startProposal = async (proposalId) => {\n  if (networkGuard()) return\n  const loadingId = showLoading('启动投票中...')\n  loadingStates.value.startProposal.add(proposalId)\n  try {\n    const contract = getVotingContract()\n    await contract.methods.startProposal(proposalId)\n        .send({ from: account.value })\n\n    // 更新本地状态\n    proposals.value = proposals.value.map((p, index) => {\n      if (index === proposalId) {\n        return {\n          ...p,\n          status: 1,\n          endTime: Math.floor(Date.now() / 1000) + p.duration\n        }\n      }\n      return p\n    })\n\n    // 更新通知\n    notifications.value = notifications.value.map(n =>\n        n.id === loadingId ? {\n          ...n,\n          message: '成功启动投票',\n          type: 'success',\n          persistent: false\n        } : n\n    )\n  } catch (err) {\n    notifications.value = notifications.value.filter(n => n.id !== loadingId)\n    handleError(err, '启动投票失败')\n  } finally {\n    loadingStates.value.startProposal.delete(proposalId)\n  }\n}\n\n/**\n * 关闭提案\n */\nconst closeProposal = async (proposalId) => {\n  const loadingId = showLoading('正在关闭提案...')\n  loadingStates.value.closeProposal.add(proposalId)\n  try {\n    const contract = getVotingContract()\n    await contract.methods.closeProposal(proposalId)\n        .send({ from: account.value })\n\n    // 更新本地状态\n    proposals.value = proposals.value.map((p, index) => {\n      if (index === proposalId) {\n        return {\n          ...p,\n          status: 2,\n          isPassed: p.forWeight > p.againstWeight\n        }\n      }\n      return p\n    })\n\n    notifications.value = notifications.value.map(n =>\n        n.id === loadingId ? {\n          ...n,\n          message: '提案已关闭',\n          type: 'success',\n          persistent: false\n        } : n\n    )\n  } catch (err) {\n    notifications.value = notifications.value.filter(n => n.id !== loadingId)\n    handleError(err, '关闭提案失败')\n  } finally {\n    loadingStates.value.closeProposal.delete(proposalId)\n  }\n}\n\n// ==================== 工具函数 ====================\nconst shortAddress = (addr) => addr ? `${addr.slice(0,6)}...${addr.slice(-4)}` : ''\n\nconst weiToEther = (wei) =>\n    Number(getWeb3().utils.fromWei(wei.toString(), 'ether'))\n\n\nfunction statusBadgeClass(status) {\n  return {\n    0: 'bg-gray-100 text-gray-600',\n    1: 'bg-blue-100 text-blue-600',\n    2: 'bg-purple-100 text-purple-600'\n  }[status]\n}\n\nfunction proposalStatus(status) {\n  return {\n    0: '等待开始',\n    1: '投票中',\n    2: ''\n  }[status]\n}\n\nfunction votePercentage(proposal, isFor) {\n  const total = proposal.forWeight + proposal.againstWeight\n  return total === 0 ? 0 : ((isFor ? proposal.forWeight : proposal.againstWeight) / total * 100).toFixed(1)\n}\n\nasync function handleError(err, context) {\n  console.error(context, err)\n  showError(`${context}: ${err.message || '未知错误'}`)\n}\n\n// ==================== 定时器逻辑 ====================\nconst timer = ref(null)\nonMounted(() => {\n  timer.value = setInterval(() => {\n    proposals.value = proposals.value.map(p => {\n      const currentTime = Math.floor(Date.now()/1000)\n      return {\n        ...p,\n        status: p.status === 1 && p.endTime < currentTime ? 2 : p.status,\n        isOverdue: p.status === 1 && p.endTime < currentTime\n      }\n    })\n  }, 1000)\n})\n\nonUnmounted(() => {\n  clearInterval(timer.value)\n})\n\n// ==================== 剩余时间显示 ====================\nfunction remainingTime(endTime) {\n  if (!endTime) return '-'\n  const currentTime = Math.floor(Date.now()/1000)\n  const remaining = endTime - currentTime\n\n  if (remaining <= 0) return '已结束'\n\n  const hours = Math.floor(remaining / 3600)\n  const minutes = Math.floor((remaining % 3600) / 60)\n  const seconds = remaining % 60\n  return `${hours}时${minutes}分${seconds}秒`\n}\n</script>\n\n<style scoped>\n/* 基础样式 */\n.status-badge {\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.status-action-btn {\n  padding: 4px 8px;\n  border: none;\n  border-radius: 4px;\n  background: #fef3c7;\n  color: #d97706;\n  font-size: 0.8em;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.status-action-btn:hover:not(:disabled) {\n  background: #fde68a;\n}\n\n.status-action-btn:disabled {\n  opacity: 0.7;\n  cursor: not-allowed;\n}\n/* 钱包连接样式 */\n.wallet-status {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1000;\n  background: rgba(255,255,255,0.9);\n  padding: 12px;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  backdrop-filter: blur(4px);\n}\n\n.connect-btn {\n  background: #4f46e5;\n  color: white;\n  border: none;\n  padding: 8px 16px;\n  border-radius: 20px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.connect-btn:hover {\n  background: #4338ca;\n  transform: translateY(-1px);\n}\n\n.account-info {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.account-address {\n  font-family: monospace;\n  background: #e0e7ff;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 0.9em;\n}\n\n.network-alert {\n  color: #dc2626;\n  font-size: 0.8em;\n}\n\n.connect-prompt {\n  text-align: center;\n  padding: 40px;\n  color: #6b7280;\n}\n\n.connect-prompt h2 {\n  color: #4f46e5;\n  margin-bottom: 16px;\n}\n\n/* 调整原有错误提示位置 */\n.error-alert {\n  margin-top: 20px;\n}\n/* 新增投票状态样式 */\n.voted-indicator {\n  padding: 12px;\n  background: #f0fdf4;\n  border: 1px solid #bbf7d0;\n  border-radius: 8px;\n  color: #16a34a;\n  text-align: center;\n  font-weight: 500;\n}\n\n.voting-actions {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-top: 1.5rem;\n}\n\n.vote-btn {\n  flex: 1;\n  padding: 12px 20px;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n}\n\n.vote-btn.agree {\n  background: #dcfce7;\n  color: #16a34a;\n}\n\n.vote-btn.agree:hover:not(:disabled) {\n  background: #bbf7d0;\n}\n\n.vote-btn.disagree {\n  background: #fee2e2;\n  color: #dc2626;\n}\n\n.vote-btn.disagree:hover:not(:disabled) {\n  background: #fecaca;\n}\n\n.vote-btn:disabled {\n  opacity: 0.7;\n  cursor: not-allowed;\n}\n\n/* 更新通知样式 */\n.notification.loading {\n  background: rgba(255, 255, 255, 0.9);\n  border: 1px solid #e5e7eb;\n  color: #4b5563;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n}\n\n.notification.loading .icon {\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n.action-btn.approve {\n  background: #f59e0b;\n  color: white;\n}\n\n.action-btn.approve:hover {\n  background: #d97706;\n}\n\n/* 快速操作按钮优化 */\n.quick-action-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.quick-action-btn {\n  display: flex;\n  align-items: center;\n  gap: 0.8rem;\n  padding: 1rem;\n  width: 100%;\n  text-align: left;\n  border-radius: 8px;\n  transition: all 0.2s;\n  cursor: pointer; /* 新增这行 */\n\n}\n\n.quick-action-btn .icon {\n  font-size: 1.2em;\n}\n\n/* 提案内容间距优化 */\n.voting-progress {\n  margin: 1.5rem 0;\n}\n\n.progress-item {\n  margin-bottom: 1.2rem;\n}\n\n.progress-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.8rem;\n}\n\n.progress-stats {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n.progress-weight {\n  font-size: 0.9em;\n  color: #6b7280;\n}\n\n\n\n/* 按钮响应式优化 */\n@media (max-width: 480px) {\n  .stake-buttons {\n    flex-direction: column;\n  }\n\n  .action-btn {\n    width: 100%;\n    justify-content: center;\n  }\n}\n.app-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;\n}\n\n.app-header {\n  background: #ffffff;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n  padding: 1rem 0;\n}\n\n.header-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 2rem;\n}\n\n.logo {\n  margin: 0;\n  font-size: 2rem;\n  font-weight: 700;\n}\n\n.gradient-text {\n  background: linear-gradient(45deg, #4f46e5, #6366f1);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n\n.main-content {\n  max-width: 1200px;\n  margin: 2rem auto;\n  padding: 0 2rem;\n}\n\n/* 数据看板 */\n.dashboard {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 1.5rem;\n  margin-bottom: 2rem;\n}\n\n.info-card {\n  background: #ffffff;\n  border-radius: 12px;\n  padding: 1.5rem;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n}\n\n.card-title {\n  margin: 0 0 1rem 0;\n  font-size: 1.25rem;\n  color: #1f2937;\n}\n\n.asset-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 0;\n  border-bottom: 1px solid #e5e7eb;\n}\n\n.asset-item:last-child {\n  border-bottom: none;\n}\n\n.label {\n  color: #6b7280;\n}\n\n.value {\n  font-weight: 500;\n  color: #1f2937;\n}\n\n.highlight {\n  color: #4f46e5;\n}\n\n/* 质押操作 */\n.stake-controls {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.stake-input {\n  width: 90%;\n  padding: 1rem;\n  border: 2px solid #e5e7eb;\n  border-radius: 12px;\n  font-size: 1.1rem;\n  transition: all 0.3s ease;\n}\n\n.stake-input:focus {\n  border-color: #4f46e5;\n  box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);\n}\n\n.stake-action-group {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n}\n\n.action-btn.stake-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.8rem;\n  padding: 1rem 1.5rem;\n  font-weight: 600;\n  transition: transform 0.2s ease;\n}\n\n.action-btn.stake-btn:hover {\n  transform: translateY(-2px);\n}\n\n.action-btn.stake-btn.primary {\n  background: linear-gradient(135deg, #4f46e5 0%, #6366f1 100%);\n  color: white;\n}\n\n.action-btn.stake-btn.secondary {\n  background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);\n  color: #4f46e5;\n}\n\n.btn-icon {\n  font-size: 1.2em;\n}\n\n.approve-status {\n  text-align: center;\n  color: #3b82f6;\n  font-size: 0.9em;\n  padding: 0.5rem;\n  border-radius: 8px;\n  background: #dbeafe;\n}\n\n\n/* 按钮样式 */\n.action-btn {\n  padding: 0.75rem 1.25rem;\n  border: none;\n  border-radius: 8px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.action-btn.primary {\n  background: #4f46e5;\n  color: white;\n}\n\n.action-btn.primary:hover {\n  background: #4338ca;\n}\n\n.action-btn.secondary {\n  background: #e0e7ff;\n  color: #4f46e5;\n}\n\n.action-btn.secondary:hover {\n  background: #c7d2fe;\n}\n\n/* 提案卡片 */\n.proposal-card {\n  background: white;\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 1rem;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n}\n\n.proposal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 1rem;\n}\n\n.proposal-title {\n  margin: 0;\n  font-size: 1.125rem;\n  color: #1f2937;\n}\n\n.status-badge {\n  display: inline-block;\n  padding: 0.25rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.875rem;\n  font-weight: 500;\n}\n\n.status-badge.pending {\n  background: #f3f4f6;\n  color: #6b7280;\n}\n\n.status-badge.active {\n  background: #dbeafe;\n  color: #1d4ed8;\n}\n\n.status-badge.closed {\n  background: #ede9fe;\n  color: #6d28d9;\n}\n\n/* 投票进度条 */\n.progress-bar {\n  height: 8px;\n  background: #f3f4f6;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  transition: width 0.5s ease;\n}\n\n.progress-fill.agree {\n  background: #10b981;\n}\n\n.progress-fill.disagree {\n  background: #ef4444;\n}\n\n/* 模态框 */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.modal-content {\n  background: white;\n  border-radius: 12px;\n  padding: 2rem;\n  width: 90%;\n  max-width: 500px;\n}\n\n.modal-title {\n  margin: 0 0 1.5rem 0;\n  font-size: 1.5rem;\n}\n\n.form-group {\n  margin-bottom: 1rem;\n}\n\n.form-label {\n  display: block;\n  margin-bottom: 0.5rem;\n  color: #374151;\n}\n\n.form-input {\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 1rem;\n}\n\n\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .dashboard {\n    grid-template-columns: 1fr;\n  }\n\n  .proposal-header {\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .proposal-actions {\n    width: 100%;\n  }\n}\n/* 通知系统样式 */\n.notification-enter-active,\n.notification-leave-active {\n  transition: all 0.5s ease;\n}\n.notification-enter-from,\n.notification-leave-to {\n  opacity: 0;\n  transform: translateX(100%);\n}\n.notification-leave-active {\n  position: absolute;\n}\n\n.notification {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  min-width: 300px;\n  padding: 15px 25px;\n  border-radius: 12px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  display: flex;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(10px);\n}\n\n.notification-content {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-size: 14px;\n}\n\n.notification .icon {\n  font-size: 18px;\n}\n\n/* 不同类型通知的颜色 */\n.notification.error {\n  background: rgba(254, 226, 226, 0.9);\n  border: 1px solid #fecaca;\n  color: #dc2626;\n}\n\n.notification.success {\n  background: rgba(220, 252, 231, 0.9);\n  border: 1px solid #bbf7d0;\n  color: #16a34a;\n}\n\n.notification.warning {\n  background: rgba(254, 249, 195, 0.9);\n  border: 1px solid #fef08a;\n  color: #ca8a04;\n}\n.time-remaining {\n  font-family: 'Courier New', monospace;\n  font-weight: 600;\n  color: #4a5568;\n  animation: pulse 1s infinite;\n}\n\n@keyframes pulse {\n  0% { opacity: 0.9; }\n  50% { opacity: 0.7; }\n  100% { opacity: 0.9; }\n}\n\n/* 移动端适配 */\n@media (max-width: 768px) {\n  .notification {\n    left: 20px;\n    right: 20px;\n    width: auto;\n  }\n}\n/* 新增样式 */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(4px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background: #ffffff;\n  border-radius: 16px;\n  padding: 2rem;\n  width: 90%;\n  max-width: 500px;\n  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  position: relative;\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid #eee;\n}\n\n.modal-title {\n  margin: 0;\n  font-size: 1.5rem;\n  color: #2d3748;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.modal-close-btn {\n  background: none;\n  border: none;\n  font-size: 1.8rem;\n  color: #718096;\n  cursor: pointer;\n  transition: all 0.2s;\n  padding: 0 0.5rem;\n  line-height: 1;\n}\n\n.modal-close-btn:hover {\n  color: #4a5568;\n  transform: rotate(90deg);\n}\n\n.form-group {\n  margin-bottom: 1.5rem;\n}\n\n.form-label {\n  display: block;\n  margin-bottom: 0.75rem;\n  color: #4a5568;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.label-icon {\n  font-size: 1.2em;\n}\n\n.description-input {\n  width: 90%;\n  padding: 1rem;\n  border: 2px solid #e2e8f0;\n  border-radius: 8px;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  resize: vertical;\n  min-height: 100px;\n}\n\n.description-input:focus {\n  border-color: #667eea;\n  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n  outline: none;\n}\n\n.duration-input-group {\n  position: relative;\n  width: 200px;\n}\n\n.duration-input {\n  padding-right: 3rem;\n  padding-left: 1rem;\n  height: 48px;\n}\n\n.duration-unit {\n  position: absolute;\n  right: 1rem;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #718096;\n}\n\n.modal-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n  margin-top: 2rem;\n}\n\n.modal-btn {\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.cancel-btn {\n  background: #f7fafc;\n  color: #718096;\n  border: 1px solid #e2e8f0;\n}\n\n.cancel-btn:hover {\n  background: #edf2f7;\n  transform: translateY(-1px);\n}\n\n.confirm-btn {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.confirm-btn:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);\n}\n\n.btn-icon {\n  font-size: 1.2em;\n}\n\n\n</style>","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=84a5a0d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-84a5a0d0\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktestweb1\"] = self[\"webpackChunktestweb1\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(5993); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["web3","SEPOLIA_CHAIN_ID","SEPOLIA_HEX_ID","initWeb3","window","ethereum","Web3","console","log","error","connectWallet","async","Error","chainId","eth","getChainId","Number","accounts","request","method","parseInt","params","switchError","code","addSepoliaNetwork","chainName","nativeCurrency","name","symbol","decimals","rpcUrls","blockExplorerUrls","getAccount","getAccounts","listenNetworkChange","callback","on","hexChainId","decimalChainId","getWeb3","governanceTokenAbi","votingAbi","governanceTokenAddress","votingContractAddress","governanceTokenContract","votingContract","initContracts","Contract","getGovernanceTokenContract","getVotingContract","ref","account","wrongNetwork","showCreateProposalModal","newProposalDescription","newProposalDurationHours","stakeAmount","approveStatus","isApproving","myBalance","stakedBalance","proposals","tokenSymbol","loadingStates","mint","stake","unstake","createProposal","vote","Set","startProposal","closeProposal","notifications","typeIcons","success","warning","loading","showNotification","message","type","persistent","id","Date","now","value","push","setTimeout","filter","n","showError","showLoading","onMounted","checkExistingConnection","handleNetworkChange","err","onUnmounted","clearInterval","timer","acc","checkNetwork","loadData","handleConnect","tokenContract","methods","call","balance","balanceOf","weiToEther","staked","stakedTokens","rawProposals","getAllProposals","Promise","all","map","p","index","currentTime","Math","floor","isOverdue","status","endTime","forWeight","againstWeight","hasVoted","voters","isPassed","isProposalPassed","handleError","networkGuard","mintTokens","loadingId","amount","utils","toWei","toString","send","from","handleStake","requiredAmount","allowance","approve","contract","durationSeconds","handleVote","proposalId","isFor","add","delete","duration","shortAddress","addr","slice","wei","fromWei","statusBadgeClass","proposalStatus","votePercentage","proposal","total","toFixed","context","remainingTime","remaining","hours","minutes","seconds","setInterval","__exports__","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","key","splice","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}